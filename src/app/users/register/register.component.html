<div class="register-container">
    <div class="main-container">
        <h1 class="page-title">Cadastro</h1>

        <form [formGroup]="formRegister" (ngSubmit)="onSubmit(formRegister)" autocomplete="off">
            <div class="row">
                <div class="block-group  margin-t-40 col-md-6">
                    <h3 class="form-title">Dados gerais</h3>
                    <p class="form-subtitle">Insira os dados para o seu perfil.</p>
                    <div class="card">
                        <div class="card-body">
                            <div class="form-group">
                                <label for="name">Nome</label>
                                <input type="text"
                                    [ngClass]="{'is-invalid': formRegister.get('name').errors && formRegister.get('name').touched }"
                                    formControlName="name" class="form-control" id="name" placeholder="Digite seu nome">
                            </div>
                            <div class="form-group">
                                <label for="email">E-mail</label>
                                <input type="text"
                                    [ngClass]="{'is-invalid': formRegister.get('email').errors && formRegister.get('email').touched }"
                                    formControlName="email" class="form-control" id="email"
                                    placeholder="Digite seu e-mail">
                            </div>
                            <div class="form-group">
                                <label for="telephone">Telefone</label>
                                <input type="text"
                                    [ngClass]="{'is-invalid': formRegister.get('telephone').errors && formRegister.get('telephone').touched }"
                                    formControlName="telephone"
                                    value="{{formRegister.get('telephone').value | telephone}}" class="form-control"
                                    id="telephone" maxlength="15" placeholder="Digite seu telefone">
                            </div>
                            <div class="form-group">
                                <label for="unidade">Unidade</label>
                                <select name="unidade" formControlName="unidade"
                                    [ngClass]="{'is-invalid': formRegister.get('unidade').errors && formRegister.get('unidade').touched }"
                                    class="form-control" id="unidade">
                                    <option value="">Selecione a unidade</option>
                                    <option value="1">Firjan Sede</option>
                                    <option value="2">Representante regional</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="block-group  margin-t-40 col-md-6">
                    <h3 class="form-title">Conta</h3>
                    <p class="form-subtitle">Insira suas credenciais para ter acesso ao sistema.</p>
                    <div class="card">
                        <div class="card-body">
                            <div class="form-group">
                                <label for="user">Usuário</label>
                                <input type="text"
                                    [ngClass]="{'is-invalid': formRegister.get('user').errors && formRegister.get('user').touched }"
                                    formControlName="user" class="form-control" id="user" placeholder="Digite seu nome">
                            </div>
                            <div class="form-group">
                                <label for="password">Senha</label>
                                <input type="password"
                                    [ngClass]="{'is-invalid': formRegister.get('password').errors && formRegister.get('password').touched }"
                                    formControlName="password" class="form-control" id="password"
                                    placeholder="Digite seu e-mail">
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirmar senha</label>
                                <input type="password"
                                    [ngClass]="{'is-invalid': formRegister.get('confirmPassword').errors && formRegister.get('confirmPassword').touched }"
                                    formControlName="confirmPassword" class="form-control" id="confirmPassword"
                                    placeholder="Digite seu e-mail" (blur)="matchValues(formRegister)">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row" *ngIf="formRegister.get('unidade').value == '1'">
                <div class="block-group  margin-t-40 col-md-6">
                    <h3 class="form-title">Divisão</h3>
                    <p class="form-subtitle">Selecione sua divisão</p>
                    <div class="card">
                        <div class="card-body">
                            <div class="form-group">
                                <label for="divisao">Divisão</label>
                                <select name="divisao" formControlName="divisao" class="form-control" id="divisao">
                                    <option value="">Selecione a divisão</option>
                                    <option value="1">DIVES</option>
                                    <option value="2">DIVRS</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="block-group  margin-t-40 col-md-6" *ngIf="formRegister.get('divisao').value == 1">
                    <h3 class="form-title">Equipe de relacionamento</h3>
                    <p class="form-subtitle">Preencha os dados abaixo.</p>
                    <div class="card">
                        <div class="card-body">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" formControlName="relacionamento"
                                    id="relacionamento">
                                <label class="form-check-label" for="relacionamento">Faço parte da equipe de
                                    relacionamento</label>
                            </div>
                            <div *ngIf="formRegister.get('relacionamento').value">
                                <div class="form-group margin-t-20">
                                    <label for="">Regional</label>
                                    <ng2-selectize formControlName="regional" class="selectize-regional"
                                        [config]="configRegional" [options]="optionRegional">
                                    </ng2-selectize>
                                </div>
                                <div class="form-group">
                                    <label for="">Sindicato</label>
                                    <ng2-selectize formControlName="sindicato" class="selectize-sindicato"
                                        [config]="configSindicato" [options]="optionsSindicatos">
                                    </ng2-selectize>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row" *ngIf="formRegister.get('unidade').value == '2'">
                <div class="block-group  margin-t-40 col-md-6">
                    <h3 class="form-title">Representante Regional</h3>
                    <p class="form-subtitle">Se você for representante de uma regional, preencha os dados abaixo.</p>
                    <div class="card">
                        <div class="card-body">
                            <div *ngFor="let cargo of cargos; index as i;" class="margin-b-20">
                                <div class="card text-white bg-primary mb-3">
                                    <div class="card-body margin-t-none">
                                        <div class="form-group">
                                            <label for="" class="text-white">Regional</label>
                                            <input type="text" value="{{cargo.regional}}" class="form-control" readonly>
                                        </div>
                                        <div class="form-group">
                                            <label for="" class="text-white">Cargo</label>
                                            <input type="text" value="{{cargo.cargo}}" class="form-control" readonly>
                                        </div>

                                        <div class="text-right">
                                            <button type="button" class="btn btn-link btn-card  text-white border-light"
                                                (click)="removeOffice(i)">remover</button>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div class="form-group">
                                <label for="regional_representante">Regional</label>
                                <select name="regional_representante" formControlName="regional_representante"
                                    [(ngModel)]="selectRegional" class="form-control" id="regional_representante">
                                    <option *ngFor="let item of optionRegional" value="{{item.id}}">
                                        {{item.name}}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="cargo_representante">Cargo</label>
                                <select name="cargo_representante" formControlName="cargo_representante"
                                    [(ngModel)]="selectCargo" class="form-control" id="cargo_representante">
                                    <option *ngFor="let item of optionCargos; trackBy: trackByFn" value="{{item.id}}">
                                        {{item.name}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="card-footer text-center" *ngIf="permissionOffice">
                            <button type="button" class="btn btn-link btn-card"
                                (click)="selectRegional && selectCargo ? addOffice([selectRegional, selectCargo]) : null">
                                Adicionar cargo
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group margin-t-50 text-right">
                <button type="submit" class="btn btn-primary btn-lg">Cadastrar</button>
            </div>
        </form>
    </div>
</div>